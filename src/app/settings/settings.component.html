<div class="container-fluid">
  <form [formGroup]="form" (ngSubmit)="onSave()">
    <div class="row">
      <div class="col col-md-4" style="border-right: 1px solid grey;">
        <div class="form-group">
          <h2>Change Profile Picture</h2>
          <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview || form.get('image').valid">
            <img [src]="imagePreview" class="image-responsive" >
          </div><br>
        </div>
        <div class="form-group">
          <!-- <label for="profilePic">Profile Picture</label><br> -->
          <button class="btn btn-primary" (click)="filePicker.click()">
            Select from file
          </button>
          <span></span>
          <input style="visibility: hidden;" type="file" #filePicker (change)="onImagePicked($event)">
        </div>
      </div>
      <div class="col col-md-8">
        <h2>Change Password</h2>
        <h3>&#40;Mandatory to change if new user!!!&#41;</h3>
        <div class="form-group">
          <label for="currentpass">Current Password</label>
          <input class="form-control" type="password" formControlName="currentPassword">
        </div>
        <div class="form-group">
          <label for="newpass">New Password</label>
          <input class="form-control" type="password" formControlName="newPassword" minlength="6">
        </div>
        <div class="form-group">
          <label for="retypepass">Retype New Password</label>
          <input class="form-control" type="password" formControlName="retypePassword">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col col-md-12" style="text-align: right; padding: 5px;">
        <button
          class="btn btn-success"
          type="submit"
          [disabled] = "!(form.get('currentPassword').value !== '' && form.get('currentPassword').dirty && form.get('currentPassword').valid && form.get('newPassword').value !== '' && form.get('newPassword').dirty && form.get('newPassword').valid && form.get('retypePassword').value !== '' && form.get('retypePassword').dirty && form.get('retypePassword').valid) && !isImageModified"

        >
          Save Changes
        </button>&nbsp;
        <button class="btn btn-danger" type="button" (click)="onClear()">Discard</button>
      </div>
    </div>
  </form>
</div>

<!-- (!form.get('currentPassword').dirty && !form.get('currentPassword').valid || !form.get('newPassword').dirty || !form.get('newPassword').valid) || (!form.get('retypePassword').dirty || !form.get('retypePassword').valid) &&  -->
